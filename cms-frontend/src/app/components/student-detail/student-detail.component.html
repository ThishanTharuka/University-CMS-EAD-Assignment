<div class="student-detail-page">
  <!-- Header Section -->
  <div class="page-header">
    <div class="header-content">
      <div class="back-section">
        <button mat-icon-button class="back-btn" (click)="goBack()">
          <mat-icon>arrow_back</mat-icon>
        </button>
        <h1 class="page-title">Student Details</h1>
      </div>
      <div class="header-actions">
        <button mat-raised-button color="primary" class="action-btn" (click)="onEditStudent()">
          <mat-icon>edit</mat-icon>
          Edit Student
        </button>
        <button mat-raised-button color="warn" class="action-btn delete-btn" (click)="onDeleteStudent()">
          <mat-icon>delete</mat-icon>
          Delete
        </button>
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <mat-spinner></mat-spinner>
    <p>Loading student details...</p>
  </div>

  <!-- Student Details Content -->
  <div *ngIf="student && !isLoading" class="content-container">
    <!-- Student Information Cards -->
    <div class="info-cards">
      <div class="info-card">
        <div class="card-header">
          <mat-icon>person</mat-icon>
          <h3>Personal Information</h3>
        </div>
        <div class="card-content">
          <div class="info-grid">
            <div class="info-item">
              <span class="label">Student ID</span>
              <span class="value student-id">{{ student.studentId }}</span>
            </div>
            <div class="info-item">
              <span class="label">Full Name</span>
              <span class="value">{{ student.firstName }} {{ student.lastName }}</span>
            </div>
            <div class="info-item">
              <span class="label">Email Address</span>
              <span class="value email-link">
                <a [href]="'mailto:' + student.email">{{ student.email }}</a>
              </span>
            </div>
            <div class="info-item">
              <span class="label">Department</span>
              <span class="value">{{ student.department || 'Not specified' }}</span>
            </div>
            <div class="info-item">
              <span class="label">Year of Study</span>
              <span class="value year-badge" *ngIf="student.yearOfStudy">Year {{ student.yearOfStudy }}</span>
              <span class="value not-specified" *ngIf="!student.yearOfStudy">Not specified</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Enrollments Section -->
    <div class="enrollments-section">
      <div class="section-header">
        <mat-icon>school</mat-icon>
        <h3>Course Enrollments</h3>
        <span class="enrollment-count">{{ enrollments.length }} courses</span>
      </div>

      <!-- Enrollments Table -->
      <div class="enrollments-table-container" *ngIf="enrollments.length > 0">
        <div class="table-wrapper">
          <table class="enrollments-table">
            <thead>
              <tr class="table-header">
                <th class="course-header">COURSE</th>
                <th class="semester-header">SEMESTER</th>
                <th class="year-header">ACADEMIC YEAR</th>
                <th class="grade-header">GRADE</th>
                <th class="status-header">STATUS</th>
              </tr>
            </thead>
            <tbody>
              <tr class="table-row" *ngFor="let enrollment of enrollments">
                <td class="course-cell">
                  <div class="course-info">
                    <span class="course-title">{{ enrollment.course.title }}</span>
                    <span class="course-code">{{ enrollment.course.code }}</span>
                  </div>
                </td>
                <td class="semester-cell">{{ enrollment.semester }}</td>
                <td class="year-cell">{{ enrollment.academicYear }}</td>
                <td class="grade-cell">
                  <span class="grade-value" *ngIf="enrollment.grade">{{ enrollment.grade }}</span>
                  <span class="no-grade" *ngIf="!enrollment.grade">Not graded</span>
                </td>
                <td class="status-cell">
                  <span class="status-badge" 
                        [ngClass]="getStatusClass(enrollment.grade)">
                    {{ getStatusText(enrollment.grade) }}
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- No Enrollments State -->
      <div *ngIf="enrollments.length === 0" class="no-enrollments">
        <mat-icon>school</mat-icon>
        <h4>No Course Enrollments</h4>
        <p>This student is not enrolled in any courses yet.</p>
      </div>
    </div>
  </div>
</div>
